{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport Storage from '@react-native-async-storage/async-storage';\nimport { USERS, FOLLOWING, TRENDING, CATEGORIES, ARTICLES } from \"../constants/mocks\";\nimport { light } from \"../constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var DataContext = React.createContext({});\nexport var DataProvider = function DataProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDark = _useState2[0],\n    setIsDark = _useState2[1];\n  var _useState3 = useState(light),\n    _useState4 = _slicedToArray(_useState3, 2),\n    theme = _useState4[0],\n    setTheme = _useState4[1];\n  var _useState5 = useState(USERS[0]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    user = _useState6[0],\n    setUser = _useState6[1];\n  var _useState7 = useState(USERS),\n    _useState8 = _slicedToArray(_useState7, 2),\n    users = _useState8[0],\n    setUsers = _useState8[1];\n  var _useState9 = useState(FOLLOWING),\n    _useState10 = _slicedToArray(_useState9, 2),\n    following = _useState10[0],\n    setFollowing = _useState10[1];\n  var _useState11 = useState(TRENDING),\n    _useState12 = _slicedToArray(_useState11, 2),\n    trending = _useState12[0],\n    setTrending = _useState12[1];\n  var _useState13 = useState(CATEGORIES),\n    _useState14 = _slicedToArray(_useState13, 2),\n    categories = _useState14[0],\n    setCategories = _useState14[1];\n  var _useState15 = useState(ARTICLES),\n    _useState16 = _slicedToArray(_useState15, 2),\n    articles = _useState16[0],\n    setArticles = _useState16[1];\n  var _useState17 = useState({}),\n    _useState18 = _slicedToArray(_useState17, 2),\n    article = _useState18[0],\n    setArticle = _useState18[1];\n  var getIsDark = useCallback(_asyncToGenerator(function* () {\n    var isDarkJSON = yield Storage.getItem('isDark');\n    if (isDarkJSON !== null) {\n      setIsDark(JSON.parse(isDarkJSON));\n    }\n  }), [setIsDark]);\n  var handleIsDark = useCallback(function (payload) {\n    setIsDark(payload);\n    Storage.setItem('isDark', JSON.stringify(payload));\n  }, [setIsDark]);\n  var handleUsers = useCallback(function (payload) {\n    if (JSON.stringify(payload) !== JSON.stringify(users)) {\n      setUsers(_objectSpread(_objectSpread({}, users), payload));\n    }\n  }, [users, setUsers]);\n  var handleUser = useCallback(function (payload) {\n    if (JSON.stringify(payload) !== JSON.stringify(user)) {\n      setUser(payload);\n    }\n  }, [user, setUser]);\n  var handleArticle = useCallback(function (payload) {\n    if (JSON.stringify(payload) !== JSON.stringify(article)) {\n      setArticle(payload);\n    }\n  }, [article, setArticle]);\n  useEffect(function () {\n    getIsDark();\n  }, [getIsDark]);\n  useEffect(function () {\n    setTheme(isDark ? light : light);\n  }, [isDark]);\n  var contextValue = {\n    isDark: isDark,\n    handleIsDark: handleIsDark,\n    theme: theme,\n    setTheme: setTheme,\n    user: user,\n    users: users,\n    handleUsers: handleUsers,\n    handleUser: handleUser,\n    following: following,\n    setFollowing: setFollowing,\n    trending: trending,\n    setTrending: setTrending,\n    categories: categories,\n    setCategories: setCategories,\n    articles: articles,\n    setArticles: setArticles,\n    article: article,\n    handleArticle: handleArticle\n  };\n  return _jsx(DataContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n};\nexport var useData = function useData() {\n  return useContext(DataContext);\n};","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","Storage","USERS","FOLLOWING","TRENDING","CATEGORIES","ARTICLES","light","jsx","_jsx","DataContext","createContext","DataProvider","_ref","children","_useState","_useState2","_slicedToArray","isDark","setIsDark","_useState3","_useState4","theme","setTheme","_useState5","_useState6","user","setUser","_useState7","_useState8","users","setUsers","_useState9","_useState10","following","setFollowing","_useState11","_useState12","trending","setTrending","_useState13","_useState14","categories","setCategories","_useState15","_useState16","articles","setArticles","_useState17","_useState18","article","setArticle","getIsDark","_asyncToGenerator","isDarkJSON","getItem","JSON","parse","handleIsDark","payload","setItem","stringify","handleUsers","_objectSpread","handleUser","handleArticle","contextValue","Provider","value","useData"],"sources":["/Users/mauricioescudero/campusparking/MovApp/src/hooks/useData.tsx"],"sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react';\nimport Storage from '@react-native-async-storage/async-storage';\n\nimport {\n  IArticle,\n  ICategory,\n  IProduct,\n  IUser,\n  IUseData,\n  ITheme,\n} from '../constants/types';\n\nimport {\n  USERS,\n  FOLLOWING,\n  TRENDING,\n  CATEGORIES,\n  ARTICLES,\n} from '../constants/mocks';\nimport {light} from '../constants';\n\nexport const DataContext = React.createContext({});\n\nexport const DataProvider = ({children}: {children: React.ReactNode}) => {\n  const [isDark, setIsDark] = useState(false);\n  const [theme, setTheme] = useState<ITheme>(light);\n  const [user, setUser] = useState<IUser>(USERS[0]);\n  const [users, setUsers] = useState<IUser[]>(USERS);\n  const [following, setFollowing] = useState<IProduct[]>(FOLLOWING);\n  const [trending, setTrending] = useState<IProduct[]>(TRENDING);\n  const [categories, setCategories] = useState<ICategory[]>(CATEGORIES);\n  const [articles, setArticles] = useState<IArticle[]>(ARTICLES);\n  const [article, setArticle] = useState<IArticle>({});\n\n  // get isDark mode from storage\n  const getIsDark = useCallback(async () => {\n    // get preferance gtom storage\n    const isDarkJSON = await Storage.getItem('isDark');\n\n    if (isDarkJSON !== null) {\n      // set isDark / compare if has updated\n      setIsDark(JSON.parse(isDarkJSON));\n    }\n  }, [setIsDark]);\n\n  // handle isDark mode\n  const handleIsDark = useCallback(\n    (payload: boolean) => {\n      // set isDark / compare if has updated\n      setIsDark(payload);\n      // save preferance to storage\n      Storage.setItem('isDark', JSON.stringify(payload));\n    },\n    [setIsDark],\n  );\n\n  // handle users / profiles\n  const handleUsers = useCallback(\n    (payload: IUser[]) => {\n      // set users / compare if has updated\n      if (JSON.stringify(payload) !== JSON.stringify(users)) {\n        setUsers({...users, ...payload});\n      }\n    },\n    [users, setUsers],\n  );\n\n  // handle user\n  const handleUser = useCallback(\n    (payload: IUser) => {\n      // set user / compare if has updated\n      if (JSON.stringify(payload) !== JSON.stringify(user)) {\n        setUser(payload);\n      }\n    },\n    [user, setUser],\n  );\n\n  // handle Article\n  const handleArticle = useCallback(\n    (payload: IArticle) => {\n      // set article / compare if has updated\n      if (JSON.stringify(payload) !== JSON.stringify(article)) {\n        setArticle(payload);\n      }\n    },\n    [article, setArticle],\n  );\n\n  // get initial data for: isDark & language\n  useEffect(() => {\n    getIsDark();\n  }, [getIsDark]);\n\n  // change theme based on isDark updates\n  useEffect(() => {\n    setTheme(isDark ? light : light);\n  }, [isDark]);\n\n  const contextValue = {\n    isDark,\n    handleIsDark,\n    theme,\n    setTheme,\n    user,\n    users,\n    handleUsers,\n    handleUser,\n    following,\n    setFollowing,\n    trending,\n    setTrending,\n    categories,\n    setCategories,\n    articles,\n    setArticles,\n    article,\n    handleArticle,\n  };\n\n  return (\n    <DataContext.Provider value={contextValue}>{children}</DataContext.Provider>\n  );\n};\n\nexport const useData = () => useContext(DataContext) as IUseData;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}